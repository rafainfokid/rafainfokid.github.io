<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Site do Rafinha</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: QuickStart
  * Template URL: https://bootstrapmade.com/quickstart-bootstrap-startup-website-template/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->


 <style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
  }
  .filtros {
    margin-bottom: 20px;
  }
  select {
    margin-right: 15px;
    padding: 5px;
  }
  .item {
    border: 1px solid #ddd;
    padding: 10px;
    margin-bottom: 12px;
    border-radius: 5px;
    display: flex;
    gap: 15px;
  }
  .item img {
    width: 100px;
    height: 100px;
    object-fit: contain;
  }
  .item-info {
    flex-grow: 1;
  }
  .item-info h3 {
    margin: 0 0 5px 0;
  }
  .item-info p {
    margin: 4px 0;
  }
  .item-info a {
    color: #007bff;
    text-decoration: none;
  }
  .item-info a:hover {
    text-decoration: underline;
  }
</style>

</head>

<body class="index-page">

  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center">

      <!--<a href="index.html" class="logo d-flex align-items-center me-auto">
        <img src="assets/img/logo.png" alt="">
        <h1 class="sitename">QuickStart</h1>
      </a>-->

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html#hero" class="active">Home</a></li>
          <li><a href="index.html#about">Quem sou eu?</a></li>
          <li class="dropdown"><a href="#"><span>SugestÃµes de Presentes</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="#">Wishlist 1</a></li>
              <li><a href="#">Wishlist 2</a></li>
              <li><a href="#">Wishlist 3</a></li>
              <li><a href="#">Wishlist 4</a></li>
            </ul>
          </li>
          <li><a href="https://www.instagram.com/rafa.leitemaia/" target="blank">Redes Sociais</a></li>
          <li><a href="https://www.instagram.com/tathianna_leite/" target="blank">Contato</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

      <a class="btn-getstarted" href="agenda.html" target="blank"><b>Minha Agenda</b></a>

    </div>
  </header>

  <main class="main">

     <!-- Page Title -->
    <div class="page-title" data-aos="fade">
      <div class="container d-lg-flex justify-content-between align-items-center">
<!--        <h1 class="mb-2 mb-lg-0">Agenda</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="index.html">Home</a></li>
            <li class="current">Agenda</li>
          </ol>
        </nav>-->
      </div>
    </div><!-- End Page Title -->

    <!-- Starter Section Section -->
    <section id="starter-section" class="starter-section section">

      <!-- Section Title -->
      <div class="container section-title" data-aos="fade-up">
        <h2>SugestÃµes de Presentes</h2>
        <p>Essa Ã© minha lista de sugestÃµes de presentes para datas comemorativas e confraternizaÃ§Ãµes familiares:</p>
              <table style="width:60%; border-collapse: collapse; font-family: Arial, sans-serif;" align="center"; border="light-background">
                <thead>
                  <tr style="background-color:#f2f2f2;">
                    <th style="padding: 3px; text-align: center;">Categoria</th>
                    <th style="padding: 8px; text-align: center;">DescriÃ§Ã£o</th>
                  </tr>
                </thead>
                      <tbody>
                        <tr>
                          <td>ğŸ“š Livros</td>
                          <td>Livros infantis, contos, livros de colorir</td>
                        </tr>
                        <tr>
                          <td>ğŸ§¸ Brinquedos</td>
                          <td>PelÃºcias, blocos, brinquedos educativos</td>
                        </tr>
                        <tr>
                          <td>ğŸ² Jogos</td>
                          <td>Jogos de tabuleiro, quebra-cabeÃ§as</td>
                        </tr>
                        <tr>
                          <td>âœï¸ Material Escolar</td>
                          <td>Cadernos, lÃ¡pis, mochilas</td>
                        </tr>
                        <tr>
                          <td>ğŸ‘• Roupas</td>
                          <td>Camisetas, vestidos, conjuntos</td>
                        </tr>
                        <tr>
                          <td>ğŸ‘Ÿ CalÃ§ados</td>
                          <td>TÃªnis, sandÃ¡lias, chinelos</td>
                        </tr>
                        <tr>
                          <td>ğŸ›ï¸ DecoraÃ§Ã£o para meu quarto</td>
                          <td>Almofadas, luminÃ¡rias, adesivos</td>
                        </tr>
                        <tr>
                          <td>ğŸ–ï¸ UtensÃ­lios para o VerÃ£o</td>
                          <td>BÃ³ias, bonÃ©s, protetor solar</td>
                        </tr>
                        <tr>
                          <td>ğŸ§¢ AcessÃ³rios</td>
                          <td>Mochilas, bonÃ©s, Ã³culos</td>
                        </tr>
                      </tbody>
                    </table>








      </div><!-- End Section Title -->



      <div class="container" data-aos="fade-up" align="center">








        <h2>Logo abaixo vocÃª pode selecionar a loja virtual de acordo com a categoria de presente:</h2><br>


<div class="filtros">
  <label>
    Categoria (pode selecionar mÃºltiplas):
    <select id="filtro-categoria" multiple size="6"></select>
  </label>
  <label>
    Faixa EtÃ¡ria (pode selecionar mÃºltiplas):
    <select id="filtro-faixa-etaria" multiple size="4"></select>
  </label>
</div>

<div id="lista-itens"></div>

<script>
// URL da planilha Google Sheets em CSV (troque aqui pelo seu link pÃºblico exportado)
const urlCSV = 'https://docs.google.com/spreadsheets/d/1yYxPMG3GVXDWDpPmICFkr1h46DYnIxPiSpGh19Wc9tA/edit?gid=1413640887#gid=1413640887';

// FunÃ§Ã£o para buscar CSV e transformar em array de objetos
async function carregarDadosDaPlanilha() {
  try {
    const response = await fetch(urlCSV);
    if (!response.ok) throw new Error('Erro ao carregar a planilha');
    const csvText = await response.text();
    return parseCSV(csvText);
  } catch (error) {
    console.error(error);
    alert('Erro ao carregar os dados da planilha. Verifique a URL e o acesso pÃºblico.');
    return [];
  }
}

// FunÃ§Ã£o simples para parsear CSV em array de objetos
function parseCSV(csvText) {
  const linhas = csvText.trim().split('\n');
  const cabecalho = linhas.shift().split(',').map(h => h.trim());
  return linhas.map(linha => {
    const valores = linha.split(',').map(v => v.trim());
    const obj = {};
    cabecalho.forEach((chave, i) => {
      obj[chave] = valores[i] || '';
    });
    return obj;
  });
}

// FunÃ§Ã£o para obter valores Ãºnicos e ordenados para filtros
function valoresUnicos(items, campo) {
  const set = new Set(items.map(i => i[campo]).filter(v => v));
  return Array.from(set).sort((a,b) => {
    // OrdenaÃ§Ã£o especial para faixas etÃ¡rias (ex: "3-5 anos")
    if(campo === 'Faixa EtÃ¡ria'){
      const extrairNumero = faixa => {
        const num = faixa.match(/\d+/);
        return num ? parseInt(num[0], 10) : 1000;
      };
      return extrairNumero(a) - extrairNumero(b);
    }
    return a.localeCompare(b);
  });
}

// FunÃ§Ã£o para popular filtros de mÃºltipla seleÃ§Ã£o
function popularFiltros(itens) {
  const selectCategoria = document.getElementById('filtro-categoria');
  const selectFaixa = document.getElementById('filtro-faixa-etaria');

  // Limpar opÃ§Ãµes existentes
  selectCategoria.innerHTML = '';
  selectFaixa.innerHTML = '';

  // Adicionar opÃ§Ãµes Categoria
  valoresUnicos(itens, 'Categoria').forEach(cat => {
    const option = document.createElement('option');
    option.value = cat;
    option.textContent = cat;
    selectCategoria.appendChild(option);
  });

  // Adicionar opÃ§Ãµes Faixa EtÃ¡ria
  valoresUnicos(itens, 'Faixa EtÃ¡ria').forEach(faixa => {
    const option = document.createElement('option');
    option.value = faixa;
    option.textContent = faixa;
    selectFaixa.appendChild(option);
  });
}

// FunÃ§Ã£o para obter valores selecionados (mÃºltipla seleÃ§Ã£o)
function obterSelecionados(select) {
  return Array.from(select.selectedOptions).map(opt => opt.value);
}

// Renderizar lista de itens filtrada
function renderizarLista(itens) {
  const categoriasSelecionadas = obterSelecionados(document.getElementById('filtro-categoria'));
  const faixasSelecionadas = obterSelecionados(document.getElementById('filtro-faixa-etaria'));
  const container = document.getElementById('lista-itens');
  container.innerHTML = '';

  // Filtra por categorias e faixas, se houver seleÃ§Ã£o
  const itensFiltrados = itens.filter(item => {
    const catOk = categoriasSelecionadas.length ? categoriasSelecionadas.includes(item.Categoria) : true;
    const faixaOk = faixasSelecionadas.length ? faixasSelecionadas.includes(item['Faixa EtÃ¡ria']) : true;
    return catOk && faixaOk;
  });

  if(itensFiltrados.length === 0){
    container.innerHTML = '<p>Nenhum item encontrado para esses filtros.</p>';
    return;
  }

  itensFiltrados.forEach(item => {
    const div = document.createElement('div');
    div.className = 'item';

    // Exibe Ã­cone da categoria (se houver)
    const iconesCategoria = {
      "Livros": "ğŸ“š",
      "Brinquedos": "ğŸ§¸",
      "Jogos": "ğŸ²",
      "Material Escolar": "âœï¸",
      "Roupas": "ğŸ‘•",
      "CalÃ§ados": "ğŸ‘Ÿ",
      "DecoraÃ§Ã£o para meu quarto": "ğŸ›ï¸",
      "UtensÃ­lios para o VerÃ£o": "ğŸ–ï¸",
      "AcessÃ³rios": "ğŸ§¢"
    };
    const icone = iconesCategoria[item.Categoria] || '';

    div.innerHTML = `
      <img src="${item.Imagem}" alt="${item.Nome}" />
      <div class="item-info">
        <h3>${icone} <a href="${item.Link}" target="_blank" rel="noopener noreferrer">${item.Nome}</a></h3>
        <p><strong>Categoria:</strong> ${item.Categoria} / ${item['Subcategoria']}</p>
        <p><strong>Faixa etÃ¡ria:</strong> ${item['Faixa EtÃ¡ria']}</p>
        <p>${item.DescriÃ§Ã£o}</p>
      </div>
    `;
    container.appendChild(div);
  });
}

// Salvar filtros favoritos no localStorage
function salvarFiltrosFavoritos(categorias, faixas) {
  const favoritos = { categorias, faixas };
  localStorage.setItem('filtrosFavoritos', JSON.stringify(favoritos));
}

// Carregar filtros favoritos do localStorage
function carregarFiltrosFavoritos() {
  const json = localStorage.getItem('filtrosFavoritos');
  if(!json) return null;
  try {
    return JSON.parse(json);
  } catch {
    return null;
  }
}

// Aplicar filtros favoritos (seleciona opÃ§Ãµes mÃºltiplas)
function aplicarFiltrosFavoritos(filtros) {
  if(!filtros) return;
  const selectCategoria = document.getElementById('filtro-categoria');
  const selectFaixa = document.getElementById('filtro-faixa-etaria');

  for (const option of selectCategoria.options) {
    option.selected = filtros.categorias.includes(option.value);
  }
  for (const option of selectFaixa.options) {
    option.selected = filtros.faixas.includes(option.value);
  }
}

// BotÃ£o para salvar filtros favoritos
function criarBotaoSalvarFavorito(itens) {
  const divFiltros = document.querySelector('.filtros');
  const btn = document.createElement('button');
  btn.textContent = 'Salvar filtros favoritos';
  btn.style.marginLeft = '10px';
  btn.addEventListener('click', () => {
    const categorias = obterSelecionados(document.getElementById('filtro-categoria'));
    const faixas = obterSelecionados(document.getElementById('filtro-faixa-etaria'));
    salvarFiltrosFavoritos(categorias, faixas);
    alert('Filtros favoritos salvos!');
  });
  divFiltros.appendChild(btn);
}

// InicializaÃ§Ã£o
async function init() {
  const itens = await carregarDadosDaPlanilha();
  if(itens.length === 0) return;

  popularFiltros(itens);

  // Aplicar filtros favoritos, se existir
  const filtrosFavoritos = carregarFiltrosFavoritos();
  if(filtrosFavoritos) {
    aplicarFiltrosFavoritos(filtrosFavoritos);
  }

  renderizarLista(itens);

  // Atualizar lista ao mudar filtros
  document.getElementById('filtro-categoria').addEventListener('change', () => renderizarLista(itens));
  document.getElementById('filtro-faixa-etaria').addEventListener('change', () => renderizarLista(itens));

  criarBotaoSalvarFavorito(itens);
}

window.onload = init;

</script>
















 
      </div>

    </section><!-- /Starter Section Section -->


    


  </main>
  <footer id="footer" class="footer position-relative light-background">

  
    <div class="container copyright text-center mt-4">
      <p>Â© <span>Copyright</span> <strong class="px-1 sitename">Rafinha</strong><span>All Rights Reserved</span></p>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
        Designed by MamÃ£e & Titia 
      </div>
    </div>

  </footer>
  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>
